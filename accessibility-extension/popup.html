<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>A.E.G.I.S. ‚Äî Accessibility Toolkit</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <!-- SVG Filters for Color Blindness Previews -->
    <svg style="position: absolute; width: 0; height: 0">
      <defs>
        <filter id="protanopia-filter">
          <feColorMatrix
            type="matrix"
            values="0.567,0.433,0,0,0 0.558,0.442,0,0,0 0,0.242,0.758,0,0 0,0,0,1,0"
          />
        </filter>
        <filter id="deuteranopia-filter">
          <feColorMatrix
            type="matrix"
            values="0.625,0.375,0,0,0 0.7,0.3,0,0,0 0,0.3,0.7,0,0 0,0,0,1,0"
          />
        </filter>
        <filter id="tritanopia-filter">
          <feColorMatrix
            type="matrix"
            values="0.95,0.05,0,0,0 0,0.433,0.567,0,0 0,0.475,0.525,0,0 0,0,0,1,0"
          />
        </filter>
      </defs>
    </svg>

    <div class="app-container">
      <!-- HUD System Status -->
      <div class="hud-status-line">
        <span class="hud-online">SYSTEM ONLINE</span>
        <span>A.E.G.I.S. v2.0.0</span>
        <span id="hudTime">--:--:--</span>
      </div>

      <!-- Header -->
      <header class="header">
        <div class="logo">
          <div class="logo-icon" aria-hidden="true"></div>
          <div class="logo-text">
            <h1>A.E.G.I.S.</h1>
            <div class="tagline">
              Adaptive Experience &amp; Guidance Intelligence System
            </div>
            <div class="master-switch-container">
              <label class="master-switch-label">SYSTEM POWER</label>
              <button
                class="toggle-btn active"
                id="masterSwitch"
                aria-label="Master power switch"
              >
                <span class="toggle-track"
                  ><span class="toggle-thumb"></span
                ></span>
              </button>
            </div>
          </div>
        </div>
      </header>

      <!-- Stat Bar -->
      <div class="stat-bar">
        <div class="stat-item">
          <span class="stat-number">15+</span>
          <span class="stat-label">Modules</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">22</span>
          <span class="stat-label">Languages</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">3</span>
          <span class="stat-label">Filters</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">‚àû</span>
          <span class="stat-label">Access</span>
        </div>
      </div>

      <!-- Nav Tabs -->
      <nav class="nav-tabs" role="tablist">
        <button
          class="nav-tab active"
          role="tab"
          data-tab="vision"
          aria-selected="true"
        >
          <span class="tab-icon">üëÅÔ∏è</span>
          Vision
        </button>
        <button
          class="nav-tab"
          role="tab"
          data-tab="color"
          aria-selected="false"
        >
          <span class="tab-icon">üé®</span>
          Color
        </button>
        <button
          class="nav-tab"
          role="tab"
          data-tab="speech"
          aria-selected="false"
        >
          <span class="tab-icon">üîä</span>
          Speech
        </button>
        <button
          class="nav-tab"
          role="tab"
          data-tab="hearing"
          aria-selected="false"
        >
          <span class="tab-icon">üéôÔ∏è</span>
          Hearing
        </button>
        <button
          class="nav-tab"
          role="tab"
          data-tab="more"
          aria-selected="false"
        >
          <span class="tab-icon">‚öôÔ∏è</span>
          More
        </button>
      </nav>

      <!-- ===== VISION TAB ===== -->
      <section class="tab-panel active" id="panel-vision" role="tabpanel">
        <div class="feature-ribbon">
          <span class="ribbon-icon">üõ°Ô∏è</span>
          Visual accessibility modules ‚Äî real-time DOM injection
        </div>

        <div class="card card-vision">
          <div class="card-header">
            <div class="card-icon">üî§</div>
            <h2>Text Engine</h2>
            <span class="feature-count">3 CTRL</span>
          </div>
          <div class="card-content">
            <div class="control-row">
              <span class="control-label"
                ><span class="label-icon">üìè</span> Font Size</span
              >
              <div class="size-control">
                <button
                  class="size-btn"
                  id="decreaseText"
                  aria-label="Decrease text size"
                >
                  ‚àí
                </button>
                <span class="size-value" id="textSizeValue">100%</span>
                <button
                  class="size-btn"
                  id="increaseText"
                  aria-label="Increase text size"
                >
                  +
                </button>
              </div>
            </div>
            <div class="control-row">
              <span class="control-label"
                ><span class="label-icon">‚ÜîÔ∏è</span> Letter Spacing</span
              >
              <div class="size-control">
                <button
                  class="size-btn"
                  id="decreaseSpacing"
                  aria-label="Decrease letter spacing"
                >
                  ‚àí
                </button>
                <span class="size-value" id="spacingValue">0px</span>
                <button
                  class="size-btn"
                  id="increaseSpacing"
                  aria-label="Increase letter spacing"
                >
                  +
                </button>
              </div>
            </div>
            <div class="control-row">
              <span class="control-label"
                ><span class="label-icon">üìê</span> Line Height</span
              >
              <div class="size-control">
                <button
                  class="size-btn"
                  id="decreaseLineHeight"
                  aria-label="Decrease line height"
                >
                  ‚àí
                </button>
                <span class="size-value" id="lineHeightValue">1.5</span>
                <button
                  class="size-btn"
                  id="increaseLineHeight"
                  aria-label="Increase line height"
                >
                  +
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="card card-vision">
          <div class="card-header">
            <div class="card-icon">üß†</div>
            <h2>Reading Assist</h2>
            <span class="feature-count">3 CTRL</span>
          </div>
          <div class="card-content">
            <div class="control-row">
              <span class="control-label"
                ><span class="label-icon">üÖ∞Ô∏è</span> Dyslexia Font</span
              >
              <button
                class="toggle-btn"
                id="dyslexiaFont"
                aria-label="Toggle dyslexia font"
              >
                <span class="toggle-track"
                  ><span class="toggle-thumb"></span
                ></span>
              </button>
            </div>
            <div class="control-row">
              <span class="control-label"
                ><span class="label-icon">üìñ</span> Reading Guide</span
              >
              <button
                class="toggle-btn"
                id="readingGuide"
                aria-label="Toggle reading guide"
              >
                <span class="toggle-track"
                  ><span class="toggle-thumb"></span
                ></span>
              </button>
            </div>
            <div class="control-row">
              <span class="control-label"
                ><span class="label-icon">üîó</span> Highlight Links</span
              >
              <button
                class="toggle-btn"
                id="highlightLinks"
                aria-label="Toggle highlight links"
              >
                <span class="toggle-track"
                  ><span class="toggle-thumb"></span
                ></span>
              </button>
            </div>
          </div>
        </div>

        <div class="card card-vision">
          <div class="card-header">
            <div class="card-icon">üí°</div>
            <h2>Display Mods</h2>
            <span class="feature-count">2 CTRL</span>
          </div>
          <div class="card-content">
            <div class="control-row">
              <span class="control-label"
                ><span class="label-icon">üåó</span> High Contrast</span
              >
              <button
                class="toggle-btn"
                id="highContrast"
                aria-label="Toggle high contrast mode"
              >
                <span class="toggle-track"
                  ><span class="toggle-thumb"></span
                ></span>
              </button>
            </div>
            <div class="control-row">
              <span class="control-label"
                ><span class="label-icon">üñ±Ô∏è</span> Big Cursor</span
              >
              <button
                class="toggle-btn"
                id="bigCursor"
                aria-label="Toggle big cursor"
              >
                <span class="toggle-track"
                  ><span class="toggle-thumb"></span
                ></span>
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- ===== COLOR TAB ===== -->
      <section class="tab-panel" id="panel-color" role="tabpanel">
        <div class="feature-ribbon">
          <span class="ribbon-icon">üéØ</span>
          Color vision correction ‚Äî SVG filter overlay engine
        </div>

        <div class="card card-color">
          <div class="card-header">
            <div class="card-icon">üåà</div>
            <h2>Color V.I.S.O.R.</h2>
            <span class="feature-count">3 MODES</span>
          </div>
          <div class="card-content">
            <div class="section-label">Select Correction Filter</div>
            <div class="filter-grid">
              <button
                class="filter-btn"
                id="filterProtanopia"
                data-filter="protanopia"
                aria-label="Apply protanopia filter"
              >
                <span class="filter-preview protanopia"></span>
                Protanopia
              </button>
              <button
                class="filter-btn"
                id="filterDeuteranopia"
                data-filter="deuteranopia"
                aria-label="Apply deuteranopia filter"
              >
                <span class="filter-preview deuteranopia"></span>
                Deuteranopia
              </button>
              <button
                class="filter-btn"
                id="filterTritanopia"
                data-filter="tritanopia"
                aria-label="Apply tritanopia filter"
              >
                <span class="filter-preview tritanopia"></span>
                Tritanopia
              </button>
              <button
                class="filter-btn"
                id="filterNone"
                data-filter="none"
                aria-label="Remove color filters"
              >
                <span class="filter-preview"></span>
                No Filter
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- ===== SPEECH TAB ===== -->
      <section class="tab-panel" id="panel-speech" role="tabpanel">
        <div class="feature-ribbon">
          <span class="ribbon-icon">üó£Ô∏è</span>
          Text-to-Speech engine ‚Äî 22 languages with neural translation
        </div>

        <!-- Translate Page Card -->
        <div class="card">
          <div class="card-header">
            <div class="card-icon">üåê</div>
            <h2>Translate Page</h2>
          </div>
          <div class="card-content">
            <div class="section-label">View this website in another language</div>
            <div class="control-row">
              <span class="control-label">Language</span>
              <select id="pageTranslateLang" class="tts-language-select" aria-label="Translate page language">
                <option value="en">English</option>
                <option value="es">Spanish</option>
                <option value="fr">French</option>
                <option value="de">German</option>
                <option value="it">Italian</option>
                <option value="pt">Portuguese</option>
                <option value="nl">Dutch</option>
                <option value="ja">Japanese</option>
                <option value="ko">Korean</option>
                <option value="zh-CN">Chinese (Simplified)</option>
                <option value="zh-TW">Chinese (Traditional)</option>
                <option value="hi">Hindi</option>
                <option value="ar">Arabic</option>
                <option value="ru">Russian</option>
                <option value="pl">Polish</option>
                <option value="tr">Turkish</option>
                <option value="sv">Swedish</option>
                <option value="th">Thai</option>
                <option value="vi">Vietnamese</option>
              </select>
            </div>
            <button id="translatePageBtn" class="action-btn" style="margin-top: 8px">Open translated page</button>
            <p class="hint-text" style="margin-top: 4px">Opens this site through Google Translate in a new tab.</p>
          </div>
        </div>

        <div class="card card-speech">
          <div class="card-header">
            <div class="card-icon">üì°</div>
            <h2>Voice Synth</h2>
            <span class="feature-count">22 LANG</span>
          </div>
          <div class="card-content">
            <div class="section-label">Language Module</div>
            <select
              class="tts-language-select"
              id="ttsLanguage"
              aria-label="Select language for TTS"
            >
              <option value="en">English</option>
              <option value="es">Espa√±ol</option>
              <option value="fr">Fran√ßais</option>
              <option value="de">Deutsch</option>
              <option value="it">Italiano</option>
              <option value="pt">Portugu√™s</option>
              <option value="ru">–†—É—Å—Å–∫–∏–π</option>
              <option value="ja">Êó•Êú¨Ë™û</option>
              <option value="ko">ÌïúÍµ≠Ïñ¥</option>
              <option value="zh">‰∏≠Êñá</option>
              <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
              <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
              <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
              <option value="nl">Nederlands</option>
              <option value="pl">Polski</option>
              <option value="sv">Svenska</option>
              <option value="tr">T√ºrk√ße</option>
              <option value="vi">Ti·∫øng Vi·ªát</option>
              <option value="th">‡πÑ‡∏ó‡∏¢</option>
              <option value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
              <option value="el">ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨</option>
              <option value="he">◊¢◊ë◊®◊ô◊™</option>
            </select>

            <div class="section-label" style="margin-top: 8px">
              Input Stream
            </div>
            <textarea
              class="text-input"
              id="ttsText"
              placeholder="// Enter text for voice synthesis..."
              aria-label="Text to speech input"
            ></textarea>

            <div class="section-label" style="margin-top: 8px">Speech Rate</div>
            <div class="control-row">
              <span class="control-label"
                ><span class="label-icon">‚ö°</span> Speed</span
              >
              <div class="size-control">
                <button
                  class="size-btn"
                  id="decreaseRate"
                  aria-label="Decrease speech rate"
                >
                  ‚àí
                </button>
                <span class="size-value" id="rateValue">1.0x</span>
                <button
                  class="size-btn"
                  id="increaseRate"
                  aria-label="Increase speech rate"
                >
                  +
                </button>
              </div>
            </div>

            <div class="audio-controls" style="margin-top: 6px">
              <button
                class="play-btn"
                id="playTTS"
                aria-label="Play text-to-speech"
              >
                <span style="font-size: 18px">‚ñ∂</span>
              </button>
              <button
                class="stop-btn"
                id="stopTTS"
                aria-label="Stop text-to-speech"
              >
                <span style="font-size: 14px">‚ñ†</span>
              </button>
            </div>

            <div class="section-label" style="margin-top: 12px">
              Selection Reader
            </div>
            <div class="control-row">
              <span class="control-label"
                ><span class="label-icon">‚ú®</span> Speak Selection</span
              >
              <button
                class="toggle-btn"
                id="selectionReader"
                aria-label="Toggle selection reader"
              >
                <span class="toggle-track"
                  ><span class="toggle-thumb"></span
                ></span>
              </button>
            </div>
            <div
              class="info-text"
              style="font-size: 9px; opacity: 0.6; margin-top: 4px"
            >
              Highlight text on any page to hear it spoken or translated
            </div>
          </div>
        </div>
      </section>

      <!-- ===== HEARING TAB ===== -->
      <section class="tab-panel" id="panel-hearing" role="tabpanel">
        <div class="feature-ribbon">
          <span class="ribbon-icon">üì°</span>
          Hearing accessibility ‚Äî real-time speech recognition &amp; alerts
        </div>

        <div class="card card-hearing">
          <div class="card-header">
            <div class="card-icon">üéôÔ∏è</div>
            <h2>Live Transcribe</h2>
            <span class="feature-count">REAL-TIME</span>
          </div>
          <div class="card-content">
            <div class="caption-controls">
              <button
                class="mic-btn"
                id="startCaptions"
                aria-label="Start live captions"
              >
                <span style="font-size: 18px">üé§</span>
              </button>
              <button
                class="control-btn stop"
                id="stopCaptions"
                aria-label="Stop captions"
              >
                <span style="font-size: 14px">‚ñ†</span>
              </button>
              <button
                class="control-btn"
                id="clearCaptions"
                aria-label="Clear captions"
              >
                <span style="font-size: 14px">üóëÔ∏è</span>
              </button>
            </div>

            <div class="caption-status" id="captionStatus">
              <span class="status-dot"></span>
              <span class="status-text">STANDBY ‚Äî Awaiting Activation</span>
            </div>

            <div class="caption-display" id="captionDisplay">
              <span class="placeholder-text"
                >> Transcript will render here...</span
              >
            </div>

            <p class="hint-text" style="margin-top: 6px">
              For persistent overlay captions,
              <a id="openCaptionsTab" href="#">open dedicated HUD</a>.
            </p>
          </div>
        </div>

        <div class="card card-hearing">
          <div class="card-header">
            <div class="card-icon">üîî</div>
            <h2>Alert Systems</h2>
            <span class="feature-count">2 CTRL</span>
          </div>
          <div class="card-content">
            <div class="control-row">
              <span class="control-label"
                ><span class="label-icon">üí°</span> Visual Alerts</span
              >
              <button
                class="toggle-btn"
                id="visualAlerts"
                aria-label="Toggle visual alerts"
              >
                <span class="toggle-track"
                  ><span class="toggle-thumb"></span
                ></span>
              </button>
            </div>
            <div class="control-row">
              <span class="control-label"
                ><span class="label-icon">üéØ</span> Focus Indicator</span
              >
              <button
                class="toggle-btn"
                id="focusIndicator"
                aria-label="Toggle focus indicator"
              >
                <span class="toggle-track"
                  ><span class="toggle-thumb"></span
                ></span>
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- ===== MORE TAB ===== -->
      <section class="tab-panel" id="panel-more" role="tabpanel">
        <div class="feature-ribbon">
          <span class="ribbon-icon">üîß</span>
          System configuration &amp; operational shortcuts
        </div>

        <div class="card card-info">
          <div class="card-header">
            <div class="card-icon">‚å®Ô∏è</div>
            <h2>Quick Commands</h2>
          </div>
          <div class="card-content">
            <div class="shortcuts-list">
              <div class="shortcut-item">
                <span class="shortcut-key">ALT + H</span>
                <span class="shortcut-desc">Toggle High Contrast</span>
              </div>
              <div class="shortcut-item">
                <span class="shortcut-key">ALT + D</span>
                <span class="shortcut-desc">Toggle Dyslexia Font</span>
              </div>
              <div class="shortcut-item">
                <span class="shortcut-key">ALT + R</span>
                <span class="shortcut-desc">Toggle Reading Guide</span>
              </div>
              <div class="shortcut-item">
                <span class="shortcut-key">ALT + C</span>
                <span class="shortcut-desc">Start / Stop Captions</span>
              </div>
            </div>
          </div>
        </div>

        <div class="card card-info">
          <div class="card-header">
            <div class="card-icon">üìã</div>
            <h2>About A.E.G.I.S.</h2>
          </div>
          <div class="card-content">
            <p
              style="
                font-family: &quot;Share Tech Mono&quot;, monospace;
                font-size: 11px;
                color: var(--text-muted);
                line-height: 1.7;
                letter-spacing: 0.5px;
              "
            >
              A.E.G.I.S. ‚Äî the
              <b style="color: var(--arc-300)"
                >Adaptive Experience &amp; Guidance Intelligence System</b
              >
              ‚Äî is an advanced accessibility toolkit designed to break down
              digital barriers. Empowering users with hearing &amp; visual
              disabilities through cutting-edge DOM injection, real-time speech
              synthesis, live transcription, and color correction algorithms.
            </p>
          </div>
        </div>

        <!-- Reset -->
        <button class="reset-btn" id="resetAll" aria-label="Reset all features">
          <span class="reset-icon">‚ü≤</span>
          SYSTEM RESET ‚Äî DEACTIVATE ALL MODULES
        </button>
      </section>

      <!-- Footer -->
      <footer class="footer">
        <div class="powered-animation">
          <span class="wave-bar"></span>
          <span class="wave-bar"></span>
          <span class="wave-bar"></span>
          <span class="wave-bar"></span>
          <span class="wave-bar"></span>
        </div>
        <p style="margin-top: 8px">
          Powered by <span class="footer-brand">A.E.G.I.S.</span>
        </p>
      </footer>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
      <span class="toast-icon">‚ö°</span>
      <span id="toastMessage">Module activated</span>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
